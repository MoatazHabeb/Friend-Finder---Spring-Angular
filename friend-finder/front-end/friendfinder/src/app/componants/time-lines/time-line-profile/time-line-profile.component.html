<!-- timeline-cover.component.html -->
<div class="timeline-cover">
  <div class="container">
    <div class="main-content">
      <!-- Profile Section -->
      <div class="profile-section">
        <div class="profile-image-container">
          <div class="profile-image-wrapper">
            <img [src]="imageUrl || 'assets/images/profile-icon-design-free-vector-300x300.jpg'"  class="profile-image" alt="Profile">
            <label class="change-photo-btn" title="Change Photo" *ngIf="isOwnProfile || isFriend">
              <input type="file" (change)="onFileSelected($event)" accept="image/*">
            </label>
          </div>
        </div>

        <div class="user-info">
          <h2 class="username">{{ user?.fullname || user?.username || 'User' }}</h2>
          <p class="friend-count" *ngIf="isFriend">{{ friendCount }} Friends</p>
        </div>
      </div>

      <!-- Action Buttons -->
      <div class="actions-section">
        <!-- Add Friend Button -->
        <button class="cyber-btn" *ngIf="!isOwnProfile && !isFriend && !requestSent" (click)="sendRequest(viewedUserId!)">
          <i class="bi bi-person-plus-fill"></i>
          Add Friend
        </button>

        <!-- Success State -->
        <div class="success-badge" *ngIf="requestSent">
          <span>âœ…</span>
          Friend request sent
        </div>
      </div>
    </div>

    <!-- Navigation -->
    <div class="navigation" *ngIf="isOwnProfile || isFriend">
      <ul class="nav-tabs">
        <li class="nav-item">
          <a class="nav-link" routerLink="/timeline" routerLinkActive="active">Timeline</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" routerLink="/timeline-about" routerLinkActive="active">About</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" routerLink="/timeline-album" routerLinkActive="active">Album</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" routerLink="/timeline-friends" routerLinkActive="active">Friends</a>
        </li>
      </ul>
    </div>

    <!-- Permission Warning -->
    <div class="permission-warning" *ngIf="!isOwnProfile && !isFriend">
      <span>ðŸš«</span>
      You Must Be Friends To View More Details
    </div>

    <router-outlet></router-outlet>
  </div>
</div>
